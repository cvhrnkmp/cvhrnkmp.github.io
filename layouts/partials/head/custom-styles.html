{{/* layouts/partials/head/custom-styles.html */}}

{{/* 1) Global CSS from site config */}}
{{ with .Site.Params.customCSS }}
  {{- range . }}
    {{ if hugo.IsServer }}
      {{ $s := resources.Get . }}
      <link rel="stylesheet" href="{{ $s.RelPermalink }}" media="screen">
    {{ else }}
      {{ $s := resources.Get . | minify | fingerprint }}
      <link
        rel="stylesheet"
        href="{{ $s.RelPermalink }}"
        integrity="{{ $s.Data.Integrity }}"
        crossorigin="anonymous"
        media="screen"
      />
    {{ end }}
  {{- end }}
{{ end }}

{{/* 2) Page-specific CSS (e.g. our heading-numbers) */}}
{{ with .Params.customCSS }}
  {{- range . }}
    {{ if hugo.IsServer }}
      {{ $s := resources.Get . }}
      <link rel="stylesheet" href="{{ $s.RelPermalink }}" media="screen">
    {{ else }}
      {{ $s := resources.Get . | minify | fingerprint }}
      <link
        rel="stylesheet"
        href="{{ $s.RelPermalink }}"
        integrity="{{ $s.Data.Integrity }}"
        crossorigin="anonymous"
        media="screen"
      />
    {{ end }}
  {{- end }}
{{ end }}
